<!DOCTYPE html>
<html>
<head>
    <title>Test AJAX Filter</title>
</head>
<body>
    <h1>Test Category Filter</h1>
    <select id="testCategory">
        <option value="all">All</option>
        <option value="electronics">Electronics</option>
        <option value="jewelery">Jewelery</option>
        <option value="men's clothing">Men's Clothing</option>
        <option value="women's clothing">Women's Clothing</option>
    </select>
    <div id="result"></div>
    
    <script>
        document.getElementById('testCategory').addEventListener('change', async function() {
            const category = this.value;
            const url = '/SCP/index.php?category=' + encodeURIComponent(category) + '&ajax=1';
            console.log('Fetching:', url);
            
            try {
                const res = await fetch(url);
                const data = await res.json();
                console.log('Response:', data);
                document.getElementById('result').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (e) {
                console.error('Error:', e);
                document.getElementById('result').innerHTML = '<p style="color:red;">Error: ' + e.message + '</p>';
            }
        });
    </script>
</body>
</html>
